<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Brezel Tensor Framework: brezel::tensor::utils::dispatch::TypeErased Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Brezel Tensor Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>brezel</b></li><li class="navelem"><b>tensor</b></li><li class="navelem"><b>utils</b></li><li class="navelem"><a class="el" href="namespacebrezel_1_1tensor_1_1utils_1_1dispatch.html">dispatch</a></li><li class="navelem"><a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html">TypeErased</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">brezel::tensor::utils::dispatch::TypeErased Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A class for type-erased storage of various data types, including complex numbers.  
 <a href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dispatch_8hpp_source.html">dispatch.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab448e8905014728fd64e62105228cde0" id="r_ab448e8905014728fd64e62105228cde0"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab448e8905014728fd64e62105228cde0"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html#ab448e8905014728fd64e62105228cde0">TypeErased</a> (T value)</td></tr>
<tr class="memdesc:ab448e8905014728fd64e62105228cde0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html" title="A class for type-erased storage of various data types, including complex numbers.">TypeErased</a> object from a given value.  <br /></td></tr>
<tr class="separator:ab448e8905014728fd64e62105228cde0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc6a1268e7b44d8db1150672194784f" id="r_a7cc6a1268e7b44d8db1150672194784f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacebrezel_1_1tensor_1_1utils_1_1dispatch.html#a63086646d2bdc637247dd7fe389fc0d3">DataType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html#a7cc6a1268e7b44d8db1150672194784f">dtype</a> () const noexcept</td></tr>
<tr class="memdesc:a7cc6a1268e7b44d8db1150672194784f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data type of the tensor.  <br /></td></tr>
<tr class="separator:a7cc6a1268e7b44d8db1150672194784f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f73295ee93be7b6923b6ba67598f30" id="r_a94f73295ee93be7b6923b6ba67598f30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html#a94f73295ee93be7b6923b6ba67598f30">is_complex</a> () const noexcept</td></tr>
<tr class="memdesc:a94f73295ee93be7b6923b6ba67598f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the tensor is complex.  <br /></td></tr>
<tr class="separator:a94f73295ee93be7b6923b6ba67598f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8416582fa590680ac90b7a568a1750" id="r_a0a8416582fa590680ac90b7a568a1750"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a0a8416582fa590680ac90b7a568a1750"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html#a0a8416582fa590680ac90b7a568a1750">as</a> () const</td></tr>
<tr class="memdesc:a0a8416582fa590680ac90b7a568a1750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the current object to the specified type T.  <br /></td></tr>
<tr class="separator:a0a8416582fa590680ac90b7a568a1750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fea55ee949a03bc32aa0d51ae519aeb" id="r_a3fea55ee949a03bc32aa0d51ae519aeb"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a3fea55ee949a03bc32aa0d51ae519aeb"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html#a3fea55ee949a03bc32aa0d51ae519aeb">get_real</a> () const</td></tr>
<tr class="memdesc:a3fea55ee949a03bc32aa0d51ae519aeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the value stored in the variant <code>m_data</code> as the specified type <code>T</code>.  <br /></td></tr>
<tr class="separator:a3fea55ee949a03bc32aa0d51ae519aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6cb533088b030a783f28dc4cc6aa6c" id="r_a1c6cb533088b030a783f28dc4cc6aa6c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html#a1c6cb533088b030a783f28dc4cc6aa6c">imag</a> () const noexcept</td></tr>
<tr class="memdesc:a1c6cb533088b030a783f28dc4cc6aa6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the imaginary part of the complex number.  <br /></td></tr>
<tr class="separator:a1c6cb533088b030a783f28dc4cc6aa6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cdd30fcc56b9bc049da9623ee36a1a1" id="r_a5cdd30fcc56b9bc049da9623ee36a1a1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html#a5cdd30fcc56b9bc049da9623ee36a1a1">to_string</a> () const</td></tr>
<tr class="memdesc:a5cdd30fcc56b9bc049da9623ee36a1a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the stored data to a string representation.  <br /></td></tr>
<tr class="separator:a5cdd30fcc56b9bc049da9623ee36a1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class for type-erased storage of various data types, including complex numbers. </p>
<p>The <a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html" title="A class for type-erased storage of various data types, including complex numbers.">TypeErased</a> class provides a mechanism to store and manipulate values of different data types in a type-erased manner. It supports both real and complex numbers, and provides methods to retrieve the stored value in a specified type.</p>
<p>The class uses a variant to hold the data and provides template methods to handle different types at compile time. It also includes functionality to check if the stored value is complex and to convert the stored data to a string representation.</p>
<dl class="section note"><dt>Note</dt><dd>The class supports the following data types:<ul>
<li>float</li>
<li>double</li>
<li>int8_t</li>
<li>int16_t</li>
<li>int32_t</li>
<li>int64_t</li>
<li>uint8_t</li>
<li>uint16_t</li>
<li>uint32_t</li>
<li>uint64_t</li>
<li>bool</li>
<li>std::complex&lt;float&gt;</li>
<li>std::complex&lt;double&gt;</li>
</ul>
</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbrezel_1_1core_1_1error_1_1LogicError.html">core::error::LogicError</a></td><td>if an unsupported type is used for type erasure or conversion. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab448e8905014728fd64e62105228cde0" name="ab448e8905014728fd64e62105228cde0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab448e8905014728fd64e62105228cde0">&#9670;&#160;</a></span>TypeErased()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">brezel::tensor::utils::dispatch::TypeErased::TypeErased </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html" title="A class for type-erased storage of various data types, including complex numbers.">TypeErased</a> object from a given value. </p>
<p>This constructor template initializes the <a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html" title="A class for type-erased storage of various data types, including complex numbers.">TypeErased</a> object with the provided value. It determines the data type of the value using the <a class="el" href="namespacebrezel_1_1tensor_1_1utils_1_1dispatch.html#ab648a85bb8ad5a7539546b9f116ac36d" title="Get the DataType corresponding to the template type T.">get_data_type&lt;T&gt;()</a> function and stores the value in the m_data member. If the value is of a complex type, it also sets the m_is_complex flag and stores the imaginary part separately.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of the value to be type-erased. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The value to be type-erased and stored in the <a class="el" href="classbrezel_1_1tensor_1_1utils_1_1dispatch_1_1TypeErased.html" title="A class for type-erased storage of various data types, including complex numbers.">TypeErased</a> object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbrezel_1_1core_1_1error_1_1LogicError.html">core::error::LogicError</a></td><td>if the type of the value is not supported for type erasure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0a8416582fa590680ac90b7a568a1750" name="a0a8416582fa590680ac90b7a568a1750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8416582fa590680ac90b7a568a1750">&#9670;&#160;</a></span>as()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T brezel::tensor::utils::dispatch::TypeErased::as </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the current object to the specified type T. </p>
<p>This function template converts the current object to the specified type T. It handles both complex and non-complex tensor types.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type to which the current object will be converted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current object converted to the specified type T.</dd></dl>
<p>If T is a complex tensor type and the current object is not complex, the imaginary part will be set to 0. If the current object is complex, the real and imaginary parts will be used to construct the complex type.</p>
<p>If T is not a complex tensor type, the real part of the current object will be returned regardless of whether the current object is complex or not. </p>

</div>
</div>
<a id="a7cc6a1268e7b44d8db1150672194784f" name="a7cc6a1268e7b44d8db1150672194784f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc6a1268e7b44d8db1150672194784f">&#9670;&#160;</a></span>dtype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacebrezel_1_1tensor_1_1utils_1_1dispatch.html#a63086646d2bdc637247dd7fe389fc0d3">DataType</a> brezel::tensor::utils::dispatch::TypeErased::dtype </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the data type of the tensor. </p>
<dl class="section return"><dt>Returns</dt><dd>DataType The data type of the tensor. </dd></dl>

</div>
</div>
<a id="a3fea55ee949a03bc32aa0d51ae519aeb" name="a3fea55ee949a03bc32aa0d51ae519aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fea55ee949a03bc32aa0d51ae519aeb">&#9670;&#160;</a></span>get_real()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T brezel::tensor::utils::dispatch::TypeErased::get_real </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the value stored in the variant <code>m_data</code> as the specified type <code>T</code>. </p>
<p>This function attempts to convert the value stored in <code>m_data</code> to the specified type <code>T</code>. It supports conversion to <code>float</code>, <code>double</code>, integral types, and <code>bool</code>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type to which the value should be converted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>T The value stored in <code>m_data</code> converted to type <code>T</code>.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbrezel_1_1core_1_1error_1_1LogicError.html">core::error::LogicError</a></td><td>If the conversion to type <code>T</code> is not possible.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function uses <code>if constexpr</code> to handle different types at compile time. It checks the type of <code>m_data</code> using <code>std::holds_alternative</code> and retrieves the value using <code>std::get</code>, performing necessary type conversions.</dd>
<dd>
For <code>bool</code> type, if <code>m_data</code> holds a boolean, it returns the boolean value. Otherwise, it uses <code>std::visit</code> to check if the stored value is non-zero. </dd></dl>

</div>
</div>
<a id="a1c6cb533088b030a783f28dc4cc6aa6c" name="a1c6cb533088b030a783f28dc4cc6aa6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c6cb533088b030a783f28dc4cc6aa6c">&#9670;&#160;</a></span>imag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double brezel::tensor::utils::dispatch::TypeErased::imag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the imaginary part of the complex number. </p>
<p>This function returns the imaginary component of a complex number stored in the object. It is marked as noexcept, indicating that it does not throw any exceptions.</p>
<dl class="section return"><dt>Returns</dt><dd>double The imaginary part of the complex number. </dd></dl>

</div>
</div>
<a id="a94f73295ee93be7b6923b6ba67598f30" name="a94f73295ee93be7b6923b6ba67598f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f73295ee93be7b6923b6ba67598f30">&#9670;&#160;</a></span>is_complex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool brezel::tensor::utils::dispatch::TypeErased::is_complex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the tensor is complex. </p>
<p>This function returns a boolean value indicating whether the tensor is of a complex data type.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the tensor is complex, false otherwise. </dd></dl>

</div>
</div>
<a id="a5cdd30fcc56b9bc049da9623ee36a1a1" name="a5cdd30fcc56b9bc049da9623ee36a1a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cdd30fcc56b9bc049da9623ee36a1a1">&#9670;&#160;</a></span>to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string brezel::tensor::utils::dispatch::TypeErased::to_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the stored data to a string representation. </p>
<p>This function generates a string representation of the stored data. If the data is complex, it includes both the real and imaginary parts in the format "real+imagj" or "real-imagj". If the data is not complex, it simply converts the data to a string.</p>
<dl class="section return"><dt>Returns</dt><dd>A string representation of the stored data. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/brezel/tensor/utils/<a class="el" href="dispatch_8hpp_source.html">dispatch.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
