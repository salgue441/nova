@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# Required dependencies
find_dependency(Threads REQUIRED)
find_dependency(fmt REQUIRED)

# CUDA dependencies
set(USE_CUDA @USE_CUDA@)
if(USE_CUDA)
    enable_language(CUDA)
    find_dependency(CUDAToolkit REQUIRED)
endif()

# Optional Math libraries
set(USE_MKL @USE_MKL@)
if(USE_MKL)
    find_dependency(MKL REQUIRED)
endif()

set(USE_OPENBLAS @USE_OPENBLAS@)
if(USE_OPENBLAS)
    find_dependency(OpenBLAS REQUIRED)
endif()

# Include targets
include("${CMAKE_CURRENT_LIST_DIR}/NovaTargets.cmake")

# Component-specific variables
set(Nova_CUDA_SUPPORT ${USE_CUDA})
set(Nova_MKL_SUPPORT ${USE_MKL})
set(Nova_OPENBLAS_SUPPORT ${USE_OPENBLAS})

# Check components
check_required_components(Nova)

# Convenience function to print Nova configuration
function(nova_print_config)
    message(STATUS "Nova Configuration:")
    message(STATUS "  Version: @PROJECT_VERSION@")
    message(STATUS "  CUDA support: ${Nova_CUDA_SUPPORT}")
    message(STATUS "  MKL support: ${Nova_MKL_SUPPORT}")
    message(STATUS "  OpenBLAS support: ${Nova_OPENBLAS_SUPPORT}")
endfunction()
